# プロフィールページの要件定義（いいね・ブックマーク表示修正）

## 1. 目的
プロフィールページ（`users/[id]/page.tsx`）において、「いいねした記事（作品）」および「ブックマークした記事」が正常に表示されない（見れない）問題を解消する。

## 2. 現状課題と原因分析
`users/[id]/page.tsx` および `UserProfileClient.tsx` の現在のコードを確認したところ、以下の課題が判明しました。

1. **レイアウト構造の崩れ（DOM要素の閉じ忘れ・不正配置）**：
   - `UserProfileClient.tsx` の JSX 内で、プロフィールヘッダー部分がタブのすぐ上に記述されていますが、その内部にある統計情報（`div`）や親要素などの閉じタグ構成において、あるいはCSSの影響でタブコンテンツ（`.tab-content`）が画面外に飛んでしまったり、隠れてしまったりして見えない構造的な問題がある可能性があります。
2. **CSSクラス構成とインラインスタイルの競合**：
   - 現在の `UserProfileClient.tsx` では、`profile-header` のスタイルがハードコードされたインラインスタイルとCSSファイルの設定の両方で定義されており、表示が崩れやすくなっています。
3. **タブおよびコンテンツのレンダリング位置**:
   - ヘッダー内の `div` タグの階層構造がおかしく（本来外にあるべきコンテンツが内側のFlexコンテナ等に包含されているか、または兄弟要素になっていない）、下部のタブと投稿一覧が正しく描画されない（あるいは高さがつぶれて見えない）状態になっています。

※ データフロー自体は `users/[id]/page.tsx` から `UserProfileClient` に `likedPosts`, `bookmarkedPosts` として正常に渡されており、クライアント側のステート（`activeTab`）も存在するため、**純粋なUI/レイアウト（JSXとCSS）のバグ** が原因です。

## 3. 実装要件

### [UIの構造修正（UserProfileClient.tsx）]
1. `UserProfileClient.tsx` 内の `profile-header` および統計情報の JSX 構造を見直し、既存のデザインシステム（`globals.css`の `.profile-header`, `.profile-info`, `.profile-stats` 等）に合わせたクリーンなクラスベースの実装にリファクタリングする。
2. インラインスタイル（`style={{ ... }}`）を可能な限り排除し、グローバルCSSのクラスを活用する。
3. タブ領域（`.tabs`）とコンテンツ領域（`.tab-content`）が適切にフロー配置され、画面からはみ出したり隠れたりしないようにDOM配置を修正する。

### [CSSの補足修正（必要に応じて）]
- `globals.css` 側でプロフィールページ向けのクラス（`.profile-header` など）がすでに定義されているため、コンポーネント側でそのクラス名を正しく使用するように徹底する。

以上の修正により、プロフィール画面において「投稿」「いいね」「ブックマーク」の各タブが正しく機能し、それぞれの中身が表示されるようにします。
